\documentclass{beamer}

\usepackage[english]{babel}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{moresize}
\usepackage{mathptmx}
\usepackage{helvet}
\usepackage{xurl}
\usepackage[final]{pdfpages}
\usepackage{tcolorbox}
\usepackage{amssymb}

\tcbuselibrary{skins}
\usefonttheme{serif}

\definecolor{th_black}{rgb}{0.0, 0.051, 0.075}
\definecolor{th_red}{rgb}{0.8, 0.176, 0.196}
\definecolor{th_orange}{rgb}{0.827, 0.373, 0.161}
\definecolor{th_purple}{rgb}{0.616, 0.192, 0.549}
\definecolor{light_gray}{rgb}{0.741, 0.784, 0.812}
\definecolor{dark_gray}{rgb}{0.439, 0.475, 0.498}
\definecolor{title_box}{HTML}{b683ca}%{a767bf}

\newtcolorbox{remark_box}[1][Theorem:]{
beamer,
colback=white,
colbacktitle=white,
coltitle=th_purple,
colframe=th_orange,
boxrule=1pt,
titlerule=0pt,
arc=10pt,
title={\strut#1}
}

\newtcolorbox{attention_box}[1][Theorem:]{
beamer,
colback=white,
colbacktitle=white,
coltitle=th_red,
colframe=th_orange,
boxrule=1pt,
titlerule=0pt,
arc=10pt,
title={\strut#1}
}

\setbeamerfont{title}{size=\HUGE}
\setbeamerfont{frametitle}{size=\Large, series=\bfseries}

\setbeamercolor{title}{bg=white, fg=dark_gray}
\setbeamercolor{frametitle}{bg=white, fg=dark_gray}

\setbeamercolor{section number projected}{bg=th_red}
\setbeamercolor{subsection number projected}{bg=th_purple}
\setbeamercolor{section in toc}{fg=black}
\setbeamercolor{subsection in toc}{fg=darkgray}

\setbeamercolor{header left}{bg=th_red}
\setbeamercolor{header center}{bg=th_orange}
\setbeamercolor{header right}{bg=th_purple}

\setbeamercolor{enumerate item}{fg=th_purple}


\setbeamertemplate{itemize item}{\color{th_red}$\blacktriangleright$}
\setbeamertemplate{itemize subitem}{\color{th_purple}$\blacktriangleright$}
%\setbeamertemplate{itemize subsubitem}{\color{orange}$\blacktriangleright$}

\setbeamertemplate{title page}[default][left]%colsep=-4bp,rounded=true, shadow=true

\setbeamertemplate{section in toc}[ball unnumbered]
\setbeamertemplate{subsection in toc}[ball unnumbered]

\beamertemplatenavigationsymbolsempty

\setbeamertemplate{footline}{%
	\leavevmode
    \begin{beamercolorbox}[wd=0.125\paperwidth,dp=1pt]{}
    \end{beamercolorbox}%
    \begin{beamercolorbox}[wd=0.875\paperwidth]{}
    \hrule
    \vspace{0.1mm}
    \hrule
    \vspace{1mm}
    \parbox[b]{0.5\paperwidth}{\inserttitle\\[1.5mm] \insertshortauthor\\ \insertshortdate}
    \hfill
    Slide~\insertframenumber~of~\inserttotalframenumber
    \hspace{5mm}
    \includegraphics[width=0.12\paperwidth]{sources/logo_TH-Koeln_CMYK_22pt}
    \hspace{2mm}
    \vspace{1mm}
    \end{beamercolorbox}%
}

\setbeamertemplate{headline}{%
    \leavevmode
    \begin{beamercolorbox}[wd=0.125\paperwidth,ht=1pt,dp=4pt]{}
    \end{beamercolorbox}%
    \begin{beamercolorbox}[wd=0.292\paperwidth,ht=1pt,dp=4pt]{header left}
    \end{beamercolorbox}%
    \begin{beamercolorbox}[wd=0.292\paperwidth,ht=1pt,dp=4pt]{header center}
    \end{beamercolorbox}%
    \begin{beamercolorbox}[wd=0.292\paperwidth,ht=1pt,dp=4pt]{header right}
    \end{beamercolorbox}
} 


%Information to be included in the title page:
\title{Twitter Bot}
\subtitle{Final Presentation}
\author[Sina Behdadkia, Tim Mennicken, Robert Rose]{Sina Behdadkia\\ Tim Mennicken\\ Robert Rose }
\institute[TH KÃ¶ln]{University of Applied Sciences Cologne}
\date[04.02.2020] % (optional)
{Tuesday the 4th of February, 2020}
%\logo{\includegraphics[height=0.8cm]{sources/twitter.png}}
 
\begin{document}
\bgroup
\makeatletter
\setbeamertemplate{footline}
{
	\leavevmode
    \begin{beamercolorbox}[wd=0.125\paperwidth,dp=1pt]{}
    \end{beamercolorbox}%
    \begin{beamercolorbox}[wd=0.875\paperwidth,dp=0ex]{}
    \hrule
    \vspace{0.1mm}
    \hrule
    \vspace{1mm}
    \parbox[b]{0.3\paperwidth}{\inserttitle\\[1.5mm] \insertshortauthor\\ \insertshortdate}
    \hfill
    \includegraphics[width=0.12\paperwidth]{sources/logo_TH-Koeln_CMYK_22pt}
    \hspace{2mm}
    \vspace{1mm}
    \end{beamercolorbox}%
}
\makeatother
\begin{frame}
\titlepage
\end{frame}
\egroup

\setcounter{framenumber}{0}

\begin{frame}
\frametitle{Table of Contents}
%\begin{multicols}{2}
\tableofcontents
%\end{multicols}
\end{frame} 
 
\section{Introduction}

\begin{frame}{Introduction}
\framesubtitle{Goal}
\begin{itemize}
\item Develop neural network, which is able to create Tweets
\item Tweets should imitate a person as good as possible
\item People to imitate:
\end{itemize}
\pause
\vfill
\centering{\includegraphics[height=4cm]{sources/clinton_trump.jpg}}
\end{frame}

\begin{frame}{Introduction}
\framesubtitle{Goal}
Wokflow divided into three parts:
\vspace{5mm}
\begin{itemize}
\item Create a dataset
	\begin{itemize}
	\item Crawl Tweets
	\item Preprocess gathered Tweets
	\end{itemize}
\vspace{3mm}
\item<2-> Design a network
	\begin{itemize}
	\item Develop the architecture
	\item Experiment with different setups
	\end{itemize}
\vspace{3mm}
\item<3-> Generate Tweets
	\begin{itemize}
	\item Post-process predictions
	\item Present the results
	\end{itemize}
\end{itemize}
\end{frame}

\begin{frame}{Introduction}
\framesubtitle{Motivation}
\begin{itemize}
\item Twitter is on of the big players in social media
\item Microsoft tried to setup a chat bot to learn how young people communicate
	\begin{itemize}
	\item Got token down after 24 hours
	\end{itemize}
\item 9-17\,\% of Twitter users are bots
\item Risk of political manipulation is high
\end{itemize}
\centering{\includegraphics[height=4cm]{sources/Tay.JPG}}
\end{frame}

\section{Data Acquisition}

\begin{frame}{Data Acquisition}
\begin{columns}
\column{0.5\textwidth}
\begin{itemize}
\item Twitter developer platform
	\begin{itemize}
	\item Twitter developer account needed
	\item Tweepy: Python wrapper
	\item Complete functionality
	\end{itemize}
\end{itemize}
\vspace{0.5cm}
\centering{\includegraphics[height=2.5cm]{sources/twitter.png}}
\pause
\column{0.5\textwidth}
\begin{itemize}
\item GetOldTweets
	\begin{itemize}
	\item Fetches Tweets from the website
	\item Python package
	\item Read only access
	\end{itemize}
\end{itemize}
\vspace{0.5cm}
\centering{\includegraphics[height=2.5cm]{sources/pypi.jpg}}
\end{columns}
\end{frame}

\subsection{Twitter API}

\begin{frame}{Data Acquisition}
\framesubtitle{Twitter API}
\begin{itemize}
\item Amount of Tweets limited
	\begin{itemize}
	\item Request windows are separated in 15 minutes chunks
	\item Specific amount of requests per window
	\item Can be bypassed by cyclic requests paired with pauses
	\end{itemize}
\vspace{5mm}
\item<2-> Cannot go arbitrarily far to the past
	\begin{itemize}
	\item Returns no Tweets older than roundabout a month
	\item Cannot be bypassed
	\end{itemize}
\vspace{5mm}
\item<3-> Account got blacklisted
	\begin{itemize}
	\item No further access to the Twitter API
	\item Got unblocked on request
	\end{itemize}
\end{itemize}
\end{frame}

\subsection{GetOldTweets}

\begin{frame}{Data Acquisition}
\framesubtitle{GetOldTweets}
\begin{itemize}
\item No limitation
	\begin{itemize}
	\item Arbitrary amount of Tweets
	\item No restrictions with respect to publication date
	\end{itemize}
\vspace{5mm}
\item<2-> Shortened functionality
	\begin{itemize}
	\item Limited meta data of Tweets
	\item No functionality for publishing Tweets
	\end{itemize}
\vspace{5mm}
\item<3-> Better suited for getting large data sets
\end{itemize}
\end{frame}

\section{Pre-Processing}

\begin{frame}{Pre-Processing}
\framesubtitle{Particular Content}
\begin{itemize}
\item Weblinks
\item Picture \& video links
\item Punctuation symbols
\item Special characters
\item Retweets
\item Hashtags
\item Username references
\end{itemize}
\end{frame}

\begin{frame}{Pre-Processing}
\framesubtitle{Particular Content}
\begin{remark_box}[Content we keep:]
\begin{enumerate}
 \item Selected punctuation symbols
 \item[] \small{point, comma, exclamation mark, interrogation mark, colon and hash}
 \normalsize
 \item Hashtags
 \item References to usernames
\end{enumerate}
\end{remark_box} 
\end{frame}

\begin{frame}{Pre-Processing}
\framesubtitle{Space characters}
\begin{itemize}
\item Union of several space characters
\item The Tokenizer splits the input text at space characters
\end{itemize}
\vspace{5mm}
\pause
\begin{attention_box}[Why we need to add spaces]
house.~~$\Rightarrow$ [\textquotedbl house.\textquotedbl]\\
house .~$\Rightarrow$ [\textquotedbl house\textquotedbl , \textquotedbl .\textquotedbl]
\end{attention_box}
\end{frame}

\begin{frame}{Pre-Processing}
\framesubtitle{Termination Symbol}
\begin{itemize}
\item Model does not know when to stop
\vspace{3mm}
\item Stopping generation at an arbitrary number looks choppy
\vspace{3mm}
\item Termination symbol is introduced
\end{itemize}
\end{frame}

\section{Post-Processing}

\begin{frame}{Post-Processing}
\begin{itemize}
\item Remove unfitting space characters
	\begin{itemize}
	\item E.g. before punctuation symbols
	\end{itemize}
\vspace{3mm}
\item<2-> Make words uppercase
	\begin{itemize}
	\item E.g. at the beginning of a sentence
	\end{itemize}
\vspace{3mm}
\item<3-> Restrict generation
	\begin{itemize}
	\item Lower limit
	\item Upper limit
	\end{itemize}
\end{itemize}
\end{frame}

\section{Experiments}

\subsection{Character level}

\begin{frame}{Experiments}
\begin{itemize}
\item Character level model
\vspace{3mm}
\item Word level model
\end{itemize}
\end{frame}

\begin{frame}{Experiments}
\framesubtitle{Character level model}
\centering{\includegraphics[width=\textwidth]{sources/character_level_model.png}}
\end{frame}

\begin{frame}{Experiments}
\framesubtitle{Character level model}
\begin{itemize}
\item Seed:
\item[] ``i just realized that if you listen to ca''
\vspace{5mm}
\item Generated text:
\item[] ``nt beloels like scobous dveb ! vote selffiending up. \#fitn graham of his tonight dominater wsa an ands. comfuntstaheos,''
\end{itemize}
\end{frame}

\subsection{Word level}

\begin{frame}{Experiments}
\framesubtitle{Word level model}
\begin{itemize}
\item Multiple unidirectional LSTM
\vspace{3mm}
\item Single bidirectional LSTM
\vspace{3mm}
\item Multiple bidirectional LSTM
\end{itemize}
\end{frame}

\begin{frame}{Experiments}
\framesubtitle{Word level model -- Multiple unidirectional LSTM}
\centering{\includegraphics[width=\textwidth]{sources/multiple_unidirectional_lstm.png}}
\end{frame}

\begin{frame}{Experiments}
\framesubtitle{Word level model -- Multiple unidirectional LSTM}
\begin{itemize}
\item Seed:
\item[] ``and how innocent she is , ask her to read peters insurance policy text , to her , just in case hillary loses . also , why were the lovers text messages scrubbed after he left mueller . where are they lisa ? ; the republican party has never been so''
\vspace{5mm}
\item Generated text:
\item[] ``easy to gain. They are entrapping people with china. They have gone bonkers, and I havent seen millions of americans!''
\end{itemize}
\end{frame}

\begin{frame}{Experiments}
\framesubtitle{Word level model -- Single bidirectional LSTM}
\centering{\includegraphics[width=\textwidth]{sources/single_bidirectional_lstm.jpg}}
\end{frame}

\begin{frame}{Experiments}
\framesubtitle{Word level model -- Single bidirectional LSTM}
\begin{itemize}
\item Seed:
\item[] ``co-founder of greenpeace: the whole climate crisis is not only fake news , its fake science . there is no climate crisis , theres weather and climate all around the world , and in fact carbon dioxide is the main building block of all life . @foxandfriends wow ! ; jewish''
\vspace{5mm}
\item Generated text:
\item[] ``people are leaving the democratic party. The fires lost in favor of our seniors. Presidential world''
\end{itemize}
\end{frame}

\begin{frame}{Experiments}
\framesubtitle{Word level model -- Multiple bidirectional LSTM}
\begin{itemize}
\item Seed:
\item[] ``fraudulent speech knowingly delivered as a ruthless con , and the illegal meetings with a highly partisan whistleblower \& lawyer . @60minutes forgot to report that we are helping the great farmers of the usa to the tune of 28 billion dollars , for the last two years , paid for''
\vspace{5mm}
\item Generated text:
\item[] ``the democrats . the democrats are a very good of the democrats . the democrats are a very good of the democrats . the democrats are a very good of''
\end{itemize}
\end{frame}

\begin{frame}{Experiments}
\framesubtitle{Suggested Model}
\begin{center}
\begin{tabular}{l l l}
\hline
Layer (type) & Output Shape & Param \#\\
\hline
\hline
embedding\_1 (Embedding) & (None, 50, 50) & 503500\\
\hline
lstm\_1 (LSTM) & (None, 50, 128) & 91648\\
\hline
dropout\_1 (Dropout) & (None, 50, 128) & 0\\
\hline
bidirectional\_1 (Bidirection & (None, 256) & 263168\\
\hline
dense\_1 (Dense) & (None, 100) & 25700\\
\hline
dense\_2 (Dense) & (None, 10070) & 1017070\\
\hline
\hline
\end{tabular}
\begin{flushleft}
\hspace{8mm}
\parbox[b]{0.5\paperwidth}{
Total params: 1,901,086\\
Trainable params: 1,901,086\\
Non-trainable params: 0}
\end{flushleft}
\end{center}
\end{frame}

\section{Conclusion}

\begin{frame}{Conclusion}
\framesubtitle{Results}
\begin{itemize}
\item[\color{th_red}\checkmark] Char-level tweet creation
\item[\color{th_red}\checkmark] Word-level creation
\item[\color{th_red}\checkmark] Readable results
\vspace{4mm}
\item[\color{th_red}--] Still easy to distinguish
\item[\color{th_red}--] Clinton model sometimes won't predict readable results
\end{itemize}
\end{frame}

\begin{frame}{Conclusion}
\framesubtitle{Possible Improvements}
\begin{columns}
\column{0.5\textwidth}
\begin{itemize}
\itemsep1em
\item Gather more data
\item Deeper network
\item Use optimization tools to find good hyperparameter combinations
\item Implement beam search
\item Use Attention techniques
\end{itemize}

\column{0.5\textwidth}
\centering{\includegraphics<2>[width=\textwidth]{sources/beam_search.png}}
\centering{\includegraphics<3>[height=7cm]{sources/attention_example.png}}
\end{columns}
\end{frame}

\section{References}

\begin{frame}{References}
\begin{small}
\begin{itemize}
\item Twitter Developers -- \url{https://developer.twitter.com/en.html}
\item GetOldTweets -- \url{https://github.com/Jefferson-Henrique/GetOldTweets-python}
\item Transformer -- \url{https://ai.googleblog.com/2017/08/transformer-novel-neural-network.html}
\item Beam Search -- \url{https://towardsdatascience.com/the-arti-canon-neural-text-generation-2wwa8f032c2a68}
\item Tay (German source) -- \url{https://www.faz.net/aktuell/wirtschaft/netzwirtschaft/microsofts-bot-tay-wird-durch-nutzer-zum-nazi-und-sexist-14144019.html}
\end{itemize}
\end{small}
\end{frame}

\end{document}

